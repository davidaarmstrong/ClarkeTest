<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Distribution-free Test of Non-nested Models â€¢ clarkeTest</title>
<!-- jquery --><script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js" integrity="sha256-FgpCb/KJQlLNfOu91ta32o/NMZxltwRo8QtmkMRdAu8=" crossorigin="anonymous"></script><!-- Bootstrap --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.3.7/css/bootstrap.min.css" integrity="sha256-916EbMg70RQy9LHiGkXzG8hSg9EdNy97GazNG/aiY1w=" crossorigin="anonymous">
<script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.3.7/js/bootstrap.min.js" integrity="sha256-U5ZEeKfGNOja007MMD3YBI0A3OSZOQbeG6z2f2Y0hu8=" crossorigin="anonymous"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.11.1/css/all.min.css" integrity="sha256-PbSmjxuVAzJ6FPvNYsrXygfGhNJYyZ2GktDbkMBqQZg=" crossorigin="anonymous">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.11.1/css/v4-shims.min.css" integrity="sha256-A6jcAdwFD48VMjlI3GDxUd+eCQa7/KWy6G9oe/ovaPA=" crossorigin="anonymous">
<!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.4/clipboard.min.js" integrity="sha256-FiZwavyI2V6+EXO1U+xzLG3IKldpiTFf3153ea9zikQ=" crossorigin="anonymous"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.9.4/headroom.min.js" integrity="sha256-DJFC1kqIhelURkuza0AvYal5RxMtpzLjFhsnVIeuk+U=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.9.4/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- pkgdown --><link href="pkgdown.css" rel="stylesheet">
<script src="pkgdown.js"></script><meta property="og:title" content="Distribution-free Test of Non-nested Models">
<meta property="og:description" content="A more modular version of the clarke function from the games 
  package.  Much of the code has been adapted from the functions in the 
  games packge. ">
<meta name="twitter:card" content="summary">
<!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->
</head>
<body>
    <div class="container template-home">
      <header><div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="index.html">clarkeTest</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="Released version">0.1.0</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
<li>
  <a href="index.html">
    <span class="fas fa fas fa-home fa-lg"></span>
     
  </a>
</li>
<li>
  <a href="reference/index.html">Reference</a>
</li>
      </ul>
<ul class="nav navbar-nav navbar-right"></ul>
</div>
<!--/.nav-collapse -->
  </div>
<!--/.container -->
</div>
<!--/.navbar -->

      

      </header><div class="row">
  <div class="contents col-md-9">
<div id="clarketest-" class="section level1">
<div class="page-header"><h1 class="hasAnchor">
<a href="#clarketest-" class="anchor"></a>clarkeTest <img src="reference/figures/ct_sticker.png" align="right" alt="" width="120">
</h1></div>
<p>ClarkeTest makes doing tests of non-nested models easy and clear. The main testing function currently supports models of class <code>lm</code>, <code>glm</code> (binomial, poisson and negative binomial), <code>polr</code>, <code>clm</code>, <code>multinom</code>, <code>mlogit</code>.</p>
<p>The initial code came from the <a href="https://github.com/brentonk/games"><code>games</code></a> package which worked with strategic game models as well as binomial GLMs and linear models. The impetus for making this package was to extend the classes of models that could be evaluated.</p>
<p>I re-wrote the function to call generic functions for the individual log-likelihoods and the number of model parameters. This makes it easy for others to extend the functionality by writing <code>indivLogLiks</code> and <code>nparams</code> methods for a new model class.</p>
<ul>
<li>The <code>indivLogLiks</code> function should take the model object as its only argument and return a vector of the individual log-likelihoods for each observation in the estimation sample. Here is an example for objects of class <code>clm</code>.</li>
</ul>
<!-- end list --><div class="sourceCode" id="cb1"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb1-1"><a href="#cb1-1"></a>indivLogLiks.clm &lt;-<span class="st"> </span><span class="cf">function</span>(model){</span>
<span id="cb1-2"><a href="#cb1-2"></a>  probs &lt;-<span class="st"> </span><span class="kw"><a href="https://rdrr.io/r/stats/predict.html">predict</a></span>(model, <span class="dt">type=</span><span class="st">"prob"</span>)<span class="op">$</span>fit</span>
<span id="cb1-3"><a href="#cb1-3"></a>  ans &lt;-<span class="st"> </span><span class="kw"><a href="https://rdrr.io/r/base/Log.html">log</a></span>(probs)</span>
<span id="cb1-4"><a href="#cb1-4"></a>  <span class="kw"><a href="https://rdrr.io/r/base/function.html">return</a></span>(ans)</span>
<span id="cb1-5"><a href="#cb1-5"></a>}</span></code></pre></div>
<ul>
<li>The <code>nparams</code> function should take the model object as its only argument and return a scalar that gives the number of parameters in the model. Here is an example for models of class <code>clm</code>.</li>
</ul>
<!-- end list --><div class="sourceCode" id="cb2"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb2-1"><a href="#cb2-1"></a>nparams.clm &lt;-<span class="st"> </span><span class="cf">function</span>(model){</span>
<span id="cb2-2"><a href="#cb2-2"></a>  <span class="kw"><a href="https://rdrr.io/r/base/length.html">length</a></span>(<span class="kw"><a href="https://rdrr.io/r/stats/coef.html">coef</a></span>(model))</span>
<span id="cb2-3"><a href="#cb2-3"></a>}</span></code></pre></div>
<ul>
<li>Additionally, the function uses the <code><a href="https://rdrr.io/r/stats/nobs.html">nobs()</a></code> generic to find the number of observations. If there is no <code><a href="https://rdrr.io/r/stats/nobs.html">nobs()</a></code> method for the current model class, the user would have to write one of those, too. Here is an example of the <code>nobs</code> method for <code>mlogit</code> objects.</li>
</ul>
<!-- end list --><div class="sourceCode" id="cb3"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb3-1"><a href="#cb3-1"></a>nobs.mlogit &lt;-<span class="st"> </span><span class="cf">function</span>(object, ...){</span>
<span id="cb3-2"><a href="#cb3-2"></a>  <span class="kw"><a href="https://rdrr.io/r/base/length.html">length</a></span>(object<span class="op">$</span>fitted.values)</span>
<span id="cb3-3"><a href="#cb3-3"></a>}</span></code></pre></div>
<div id="installation" class="section level2">
<h2 class="hasAnchor">
<a href="#installation" class="anchor"></a>Installation</h2>
<div class="sourceCode" id="cb4"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb4-1"><a href="#cb4-1"></a><span class="co"># Install release version from CRAN</span></span>
<span id="cb4-2"><a href="#cb4-2"></a><span class="kw"><a href="https://rdrr.io/r/utils/install.packages.html">install.packages</a></span>(<span class="st">"clarkeTest"</span>)</span>
<span id="cb4-3"><a href="#cb4-3"></a><span class="co"># Install development version from GitHub</span></span>
<span id="cb4-4"><a href="#cb4-4"></a>remotes<span class="op">::</span><span class="kw"><a href="https://rdrr.io/pkg/remotes/man/install_github.html">install_github</a></span>(<span class="st">"davidaarmstrong/ClarkeTest"</span>)</span></code></pre></div>
</div>
<div id="usage" class="section level2">
<h2 class="hasAnchor">
<a href="#usage" class="anchor"></a>Usage</h2>
<p>Here is an example of how the function works:</p>
<div class="sourceCode" id="cb5"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb5-1"><a href="#cb5-1"></a><span class="kw"><a href="https://rdrr.io/r/base/library.html">library</a></span>(clarkeTest)</span>
<span id="cb5-2"><a href="#cb5-2"></a><span class="kw"><a href="https://rdrr.io/r/utils/data.html">data</a></span>(conflictData)</span>
<span id="cb5-3"><a href="#cb5-3"></a>lm1 &lt;-<span class="st"> </span><span class="kw"><a href="https://rdrr.io/r/stats/lm.html">lm</a></span>(riots <span class="op">~</span><span class="st"> </span><span class="kw"><a href="https://rdrr.io/r/base/Log.html">log</a></span>(rgdpna_pc) <span class="op">+</span><span class="st"> </span><span class="kw"><a href="https://rdrr.io/r/base/Log.html">log</a></span>(pop<span class="op">*</span><span class="dv">1000</span>) <span class="op">+</span><span class="st"> </span></span>
<span id="cb5-4"><a href="#cb5-4"></a><span class="st">    </span>polity2, <span class="dt">data=</span>conflictData)</span>
<span id="cb5-5"><a href="#cb5-5"></a>lm2 &lt;-<span class="st"> </span><span class="kw"><a href="https://rdrr.io/r/stats/lm.html">lm</a></span>(riots <span class="op">~</span><span class="st"> </span>rgdpna_pc <span class="op">+</span><span class="st"> </span>pop <span class="op">+</span><span class="st"> </span></span>
<span id="cb5-6"><a href="#cb5-6"></a><span class="st">    </span>polity2, <span class="dt">data=</span>conflictData)</span>
<span id="cb5-7"><a href="#cb5-7"></a><span class="kw"><a href="reference/clarke_test.html">clarke_test</a></span>(lm1, lm2)</span>
<span id="cb5-8"><a href="#cb5-8"></a><span class="co">#&gt; </span></span>
<span id="cb5-9"><a href="#cb5-9"></a><span class="co">#&gt; Clarke test for non-nested models</span></span>
<span id="cb5-10"><a href="#cb5-10"></a><span class="co">#&gt; </span></span>
<span id="cb5-11"><a href="#cb5-11"></a><span class="co">#&gt; Model 1 log-likelihood: -8446</span></span>
<span id="cb5-12"><a href="#cb5-12"></a><span class="co">#&gt; Model 2 log-likelihood: -8433</span></span>
<span id="cb5-13"><a href="#cb5-13"></a><span class="co">#&gt; Observations: 4381</span></span>
<span id="cb5-14"><a href="#cb5-14"></a><span class="co">#&gt; Test statistic: 1830 (42%)</span></span>
<span id="cb5-15"><a href="#cb5-15"></a><span class="co">#&gt; </span></span>
<span id="cb5-16"><a href="#cb5-16"></a><span class="co">#&gt; Model 2 is preferred (p &lt; 2e-16)</span></span></code></pre></div>
</div>
</div>
  </div>

  <div class="col-md-3 hidden-xs hidden-sm" id="pkgdown-sidebar">
    <div class="license">
<h2>License</h2>
<ul class="list-unstyled">
<li>GPL (&gt;=2)</li>
</ul>
</div>
<div class="developers">
<h2>Developers</h2>
<ul class="list-unstyled">
<li>Dave Armstrong <br><small class="roles"> Author, maintainer </small>  </li>
<li>Brenton Kenkel <br><small class="roles"> Author </small>  </li>
</ul>
</div>

  </div>
</div>


      <footer><div class="copyright">
  <p>Developed by Dave Armstrong, Brenton Kenkel.</p>
</div>

<div class="pkgdown">
  <p>Site built with <a href="https://pkgdown.r-lib.org/">pkgdown</a> 1.4.1.9000.</p>
</div>

      </footer>
</div>

  


  </body>
</html>
